rule all:
    input:
        "data/processed/merged.csv",
        "results/plots/correlation_heatmap.png"

rule acquire:
    output:
        "data/raw/permits_raw.csv",
        "data/raw/violations_raw.csv"
    shell:
        "python scripts/acquire_data.py"

rule clean:
    input:
        "data/raw/permits_raw.csv",
        "data/raw/violations_raw.csv"
    output:
        "data/processed/permits_clean.csv",
        "data/processed/violations_clean.csv"
    shell:
        "python scripts/clean_data.py"

rule merge:
    input:
        "data/processed/permits_clean.csv",
        "data/processed/violations_clean.csv"
    output:
        "data/processed/merged.csv"
    shell:
        "python scripts/merge_data.py"

rule analyze:
    input:
        "data/processed/merged.csv"
    output:
        "results/plots/correlation_heatmap.png"
    shell:
        "python scripts/analyze.py"
